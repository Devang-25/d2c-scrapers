# include<iostream>
# include<string.h>
# include<math.h>
# include<stdlib.h>
using namespace std;
int main()
{
	int t,type,n,i,j,c,k,a[100005],b[100005];
	char str[100005],str1[100005],str2[100005];
	long long int sum,sum2;
	for(i=0;i<100005;i++)
	{
		if(i%2==0)
		{
			str1[i]='B';
			str2[i]='G';
		}
		else
		{
			str1[i]='G';
			str2[i]='B';
		}
	}
	cin>>t;
	while(t--)
	{
		c=0;
		cin>>type;
		cin>>str;
		n=strlen(str);
		for(i=0;i<n;i++)
		{
			if(str[i]=='B')
			{
				c++;
			}
			else c--;
		}
		if(abs(c)>1)
		{
			cout<<"-1"<<endl;
		}
		else
		{
			sum=0;
			sum2=0;
			k=0;j=0;
			if(c==-1)
			{
				for(i=0;i<n;i++)
				{
					if(str[i]!=str2[i])
					{
						if(str[i]=='B')
						{
							a[k]=i;
							k++;
						}
						else
						{
							b[j]=i;
							j++;
						}
					}
				}
				for(i=0;i<j;i++)
				{
					sum+=pow((abs(b[i]-a[i])),type);
				}
				cout<<sum<<endl;	
			}
			else if(c==1)
			{
				for(i=0;i<n;i++)
				{
					if(str[i]!=str1[i])
					{
						if(str[i]=='B')
						{
							a[k]=i;
							k++;
						}
						else
						{
							b[j]=i;
							j++;
						}
					}
				}
				for(i=0;i<j;i++)
				{
					sum+=pow((abs(b[i]-a[i])),type);
				}
				cout<<sum<<endl;
			}
			else if(c==0)
			{
				k=0;
				j=0;
				for(i=0;i<n;i++)
				{
					if(str[i]!=str1[i])
					{
						if(str[i]=='B')
						{
							a[k]=i;
							k++;
						}
						else
						{
							b[j]=i;
							j++;
						}
					}
				}
				for(i=0;i<j;i++)
				{
					sum+=pow((abs(b[i]-a[i])),type);
				}
					k=0;
				j=0;
				for(i=0;i<n;i++)
				{
					if(str[i]!=str2[i])
					{
						if(str[i]=='B')
						{
							a[k]=i;
							k++;
						}
						else
						{
							b[j]=i;
							j++;
						}
					}
				}
				for(i=0;i<j;i++)
				{
					sum2+=pow((abs(b[i]-a[i])),type);
				}
				sum=min(sum,sum2);
				cout<<sum<<endl;
			}
		}
	}
	return 0;
}
